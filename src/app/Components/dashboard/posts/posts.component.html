<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a [routerLink]="'/dashboard'">Home</a></li>
        <li class="breadcrumb-item">
            <a [routerLink]="'/dashboard/category'">Posts</a>
        </li>
        <li class="breadcrumb-item active" aria-current="page"> Posts</li>
    </ol>
</nav>
<div class="bg-white p-3 p-md-5 rounded-4">
    <div class="d-flex justify-content-between align-items-center">
        <h1 class="mb-4">All Posts</h1>
        <!-- 
      <a *ngIf="canAdd" class="btn btn-warning" [routerLink]="'/dashboard/category/add'"
        ><i class="isax isax-user-add"></i> Add Category</a -->
        >
    </div>
    <!-- <h1 class="mb-4"> Category</h1> -->
    <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-12">
                <div class="col-md-12">
                    <input class="form-control" id="email" placeholder="Search anything...." type="text"
                        name="searchTerm" [(ngModel)]="searchTerm" />
                    <div class="invalid-feedback">
                        <!-- {{ getErrorMsg("email") }} -->
                    </div>
                </div>
                <div class="col-md-12">



                    <body class="hm-gradient">

                        <main>

                            <!--MDB Tables-->
                            <div class="container m-0 p-0 mt-4 ">



                                <div class="card  border-0">
                                    <div class="card-body ">
                                        <!-- Grid row -->
                                        <div class="row">
                                            <!-- Grid column -->

                                            <!-- Grid column -->
                                        </div>
                                        <!-- Grid row -->
                                        <!--Table-->
                                        <table class="table table-hover table-responsive mb-0  ">
                                            <!--Table head-->
                                            <thead>
                                                <tr class="text-center">
                                                    <th scope="row" class="text-primary">#</th>
                                                    <th class="th-lg" class="text-primary">Title</th>
                                                    <th class="th-lg" class="text-primary">Category Name</th>
                                                    <th class="th-lg" class="text-primary">User Name</th>
                                                    <!-- <th class="th-lg" class="text-primary">Has Field</th> -->
                                                    <th class="th-lg" class="text-primary">User Phone</th>
                                                    <th class="th-lg" class="text-primary">Price</th>

                                                    <th class="th-lg" class="text-primary">location</th>

                                                    <th *ngIf="canDelete" class="th-lg" class="text-primary">Delete</th>
                                                </tr>
                                            </thead>
                                            <!--Table head-->
                                            <!--Table body-->
                                            <tbody>
                                                <ng-container
                                                    *ngFor="let post of allPosts | searchFilter: searchTerm| paginate: { itemsPerPage: pageSize, currentPage: pages };let i=index">
                                                    <tr class="text-center">
                                                        <th scope="row">{{i+1}}</th>
                                                        <td>{{post.title}}</td>

                                                        <td>
                                                            {{categoryNames[post.cat_Id]}} </td>


                                                        <td >
                                                            {{userName[post.user_Id]}} </td>
                                                        <td>{{userPhone[post.user_Id]}}</td>
                                                        <td >{{post.price}}</td>
                                                        <td >{{post.post_LocationNavigation.city_Name_En}}</td>


                                
                                                        <td>


                                                            <a *ngIf="canDelete" data-bs-toggle="modal"
                                                                data-bs-target="#exampleModal"
                                                                class="btn bg-body-tertiary rounded-circle border border-1"
                                                                (click)="deleteCategory(post.id)"><i
                                                                    class="isax isax-trash fw-bold text-danger"></i></a>


                                                        </td>

                                                    </tr>
                                                </ng-container>




                                            </tbody>
                                            <!--Table body-->
                                        </table>
                                        <!--Bottom Table UI-->
                                        <div class="d-flex justify-content-center">
                                            <nav class="my-4 pt-2">
                                                <pagination-controls
                                                    (pageChange)="pages = $event"></pagination-controls>

                                            </nav>
                                            <!--/Pagination -->
                                        </div>
                                        <!--Bottom Table UI-->
                                    </div>
                                </div>



                            </div>

                        </main>

                    </body>

                </div>

            </div>
        </div>
    </div>
</div>
<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content rounded-4 border-0">
            <div class="modal-header border-0">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text-center">
                Are you sure to delete this category <b>#{{ buttonRemove }}</b> ?
            </div>
            <div class="modal-footer justify-content-center border-0">
                <button type="button" class="btn btn-outline-secondary rounded-4" data-bs-dismiss="modal">
                    Cancel
                </button>
                <button type="button" class="btn btn-danger rounded-4" data-bs-dismiss="modal"
                    (click)="remove(buttonRemove)">
                    Yes , Delete!
                </button>
            </div>
        </div>
    </div>
</div>